From fallah at iust.ac.ir  Fri Jun  1 00:02:49 2012
From: fallah at iust.ac.ir (farhang fallah)
Date: Fri, 01 Jun 2012 02:32:49 +0330
Subject: [Smeagol-discuss] Fwd: Re: Fwd: Re: Error in compiling Smeagol
In-Reply-To: <CAMOYtR_-Mf60ik77aFYpt_xkKv0kBTURk9b4g24S7U62cDv1Wg@mail.gmail.com>
References: <WC20120530145212.300F0F@iust.ac.ir>
	<CAMOYtR_-Mf60ik77aFYpt_xkKv0kBTURk9b4g24S7U62cDv1Wg@mail.gmail.com>
Message-ID: <WC20120531230249.8611F3@iust.ac.ir>

Thank you very much for your help. It seems that the problem revolve around different compilers and options now. I will try some 
different options for gfortran and g95 and also intel compilers and will post it here if any of them works for other users.

Best Regards,

Farhang Fallah

-----Original Message-----
From: Calin Floare <cfloare at gmail.com>
To: Smeagol Discussion <smeagol-discuss at lists.tchpc.tcd.ie>
Date: Thu, 31 May 2012 22:39:56 +0300
Subject: Re: [Smeagol-discuss] Fwd: Re: Fwd: Re: Error in compiling Smeagol

> Hi again,
> 
> Initially g95 was not in your path but now I see that you compile also
> with g95 not only with gfortran.
> 
> At some errors you can find answers if you search on the web.
> 
> As an example, for this specific error take a look here, as an example:
> 
> http://gcc.gnu.org/ml/fortran/2007-12/msg00212.html
> 
> "Fixed-form Fortran has only 72 characters per line. What happens with
> longer lines is implementation dependent. However, many
> programmers/programs assume that everything after column 72 is ignored
> (which gfortran does).
> 
> Solution: Fix the program by splitting the line or by using the
> -ffixed-line-length-n (n is a non-negative integer)."
> 
> But, as I said, I personally didn't tested and I never tried to
> compile it using g95 or gfortran, even if your error seems to have
> this cause.
> 
> I am a bit busy now and I cannot go deeper very soon.
> 
> But, an Aug 2009 thread on the Smeagol Forum Archive mention that
> gfortran and g95 are not very well tested with Smeagol, the advice
> being, to use Intel compilers.
> 
> Intel compilers are supposedly better and many are using them.
> 
> http://lists.tchpc.tcd.ie/pipermail/smeagol-discuss/2009-August/thread.
> html
> 
> You can download them from Intel website with an non-commercial
> license and you can install them easily, but there can appear also
> problems
> as Smeagol will probably work only with some compilers.
> 
> It will be better also if Smeagol can be tested with gfortran or g95
> too.
> 
> I want also to ask the Smeagol developers if there is a bug tracking
> system maintained for Smeagol ?
> 
> As an example I would like to know if on the file
> "smeagol/Interface/emt2k.F"
> 
> at the line 392: "dcojg"
> 
> "rhoG(nuo+iuo,juo)*dcojg(sckxij))"
> 
> has not to be written "dconjg". There is an "n" missing.
> 
> I personally found this typing error, I think, but could be more, and
> a tool like Bugzilla could surely help and finally improve the code.
> 
> Calin G. Floare
> 
> 
> 
> On Wed, May 30, 2012 at 5:52 PM, farhang fallah <fallah at iust.ac.ir>
> wrote:
> > I managed to resolve the previous error by renaming temp.F and
> temp0.F as temp.F90 and temp0.F90.
> >
> > Now it starts to compile files but it suddenly stops at siesta.F with
> the following error:
> >
> > g95 -c -g -funroll-all-loops ? ?siesta.F
> > In file siesta.F:736
> >
> > ? ? ? ? ? write(6,'(a47)') 'smeagol: The size of the cell is
> being expanded'
> > ? ? ? ? ? ? ? ? ? ? ? ? ? ?1
> > Error: Unterminated character constant beginning at (1)
> > In file siesta.F:737
> >
> > ? ? ? ? ? write(6,'(a46)') 'smeagol: ?along the perpendicular
> direction to'
> > ? ? ? ? ? ? ? ? ? ? ? ? ? ?1
> > Error: Unterminated character constant beginning at (1)
> > make: *** [siesta.o] Error 1
> >
> > Does this error have anything to do with my compiler or its options?
> >
> > -----Original Message-----
> > From: "farhang fallah" <fallah at iust.ac.ir>
> > To: "Calin Floare" <cfloare at gmail.com>,"Smeagol Discussion"
> <smeagol-discuss at lists.tchpc.tcd.ie>
> > Date: Wed, 30 May 2012 12:49:54 +0330
> > Subject: Re: [Smeagol-discuss] Fwd: Re: Error in compiling Smeagol
> >
> > Hi,
> >
> > Thanks again fr your reply. I compiled LAPACK as you said and then
> > changed the arch.make file based on your instruction. However it
> > said that "g95" is an unknown command, so I changed it to "gfortran"
> (it
> > seems that this is the command for my compiler). Then it said
> > that "-03" is an unknown option so I removed it from the arch.make
> file.
> > Now it gives the in the attachment "error2.txt". My arch.make
> > and Mekefile files are also attached. Can you please tell me where
> these
> > error come from?
> >
> > ps: I changed version.f in my makefile to version.f90 as well.
> >
> 
> 
> -- 
> _______________________________________________________
> 
> Calin Gabriel Floare
> National Institute for R & D of Isotopic and Molecular Technologies
> Donath Str. 65-103, P.O. Box 700, 400293, Cluj-Napoca 5, Romania
> E-mail: cfloare at itim-cj.ro (cfloare at gmail.com)
> Web: http://www.itim-cj.ro/~cfloare/
> Tel: +40 264 584037 - ext. 181 (work) or +40 729 934133 (mobile)
> Fax: +40 264 420042
> _______________________________________________________
> _______________________________________________
> Smeagol-discuss mailing list
> Smeagol-discuss at lists.tchpc.tcd.ie
> http://lists.tchpc.tcd.ie/listinfo/smeagol-discuss
> 



